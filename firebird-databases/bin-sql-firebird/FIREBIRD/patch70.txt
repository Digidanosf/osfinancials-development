CREATE TABLE TYPES_TRANSLATE
(
  WTYPEID Integer NOT NULL,
  WLANGUAGEID Integer NOT NULL,
  SDESCRIPTION Varchar(255),
  CONSTRAINT PK_TYPES_TRANSLATE PRIMARY KEY (WTYPEID,WLANGUAGEID)
)
;
ALTER TABLE TYPES_TRANSLATE ADD CONSTRAINT FK_TYPES_TRANSLATE_TYPE
  FOREIGN KEY (WTYPEID) REFERENCES TYPES (WTYPEID) ON UPDATE CASCADE ON DELETE CASCADE
;
<@MSSQLGO@>
CREATE VIEW V_TYPES ( WTYPEID, SDESCRIPTION, WTYPEPARENT )
AS  
SELECT a.WTYPEID, coalesce(b.SDESCRIPTION,a.SDESCRIPTION  ){if PostgreSQL}::varchar(255){endif} SDESCRIPTION, a.WTYPEPARENT
FROM TYPES a left join TYPES_TRANSLATE b on a.WTYPEID = b.WTYPEID 
and b.WLANGUAGEID = {if InterBase} (SELECT first 1 p.WLANGUAGEID
FROM GETUSERLANG p){else}{dbopre}GETUSERLANG()  {endif}
;
<@MSSQLGO@>
update Sysvars set WVersion=579
;






