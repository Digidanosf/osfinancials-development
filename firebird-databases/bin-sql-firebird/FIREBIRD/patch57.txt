CREATE TABLE STOCK_LINKEDSALE
(
  WSTOCKLINKSALEID Integer NOT NULL,
  WSTOCKID Integer NOT NULL,
  WLINKSTOCKID Integer NOT NULL,
  WGROUPID Integer NOT NULL,
  WGROUPITEMID Integer NOT NULL,
  FEXTRAPRICE Numeric(12,8),
  WPRICETYPE Smallint,
  WSORTID Integer,
  CONSTRAINT PK_STOCK_LINKEDSALEID PRIMARY KEY (WSTOCKLINKSALEID)
)
;
ALTER TABLE STOCK_LINKEDSALE ADD CONSTRAINT FK_STOCK_LINKEDSALE_GROUP
  FOREIGN KEY (WGROUPID) REFERENCES GROUPS (WGROUPID) ON UPDATE CASCADE ON DELETE CASCADE
;
ALTER TABLE STOCK_LINKEDSALE ADD CONSTRAINT FK_STOCK_LINKEDSALE_ITEMGROUP
  FOREIGN KEY (WGROUPITEMID) REFERENCES GROUPS (WGROUPID) ON UPDATE CASCADE ON DELETE CASCADE
;
ALTER TABLE STOCK_LINKEDSALE ADD CONSTRAINT FK_STOCK_LINKEDSALE_STOCK
  FOREIGN KEY (WSTOCKID) REFERENCES STOCK (WSTOCKID) ON UPDATE CASCADE ON DELETE CASCADE
;
ALTER TABLE STOCK_LINKEDSALE ADD CONSTRAINT FK_STOCK_LINKEDSALE_STOCKLINK
  FOREIGN KEY (WLINKSTOCKID) REFERENCES STOCK (WSTOCKID) ON UPDATE CASCADE ON DELETE CASCADE
;
{generator_cr_start}GEN_STOCKLINKSALE{generator_cr_end} ;

;
CREATE TABLE DOCLINE_LINKED
( WDOCLINKED_ID Integer NOT NULL,
  WDOCLINEID Integer NOT NULL,
  WDOCID Integer NOT NULL,
  WSTOCKID Integer,
  WLINETYPEID Integer,
  WDESCRIPTIONID Integer,
  FQTYORDERED Numeric(12,8),
  FQTYSHIPPED Numeric(12,8),
  FSELLINGPRICE Numeric(12,8),
  FITEMDISCOUNT Numeric(12,8),
  WTAXID Integer,
  FEXCLUSIVEAMT Numeric(12,8),
  FINCLUSIVEAMT Numeric(12,8),
  FTAXAMOUNT Numeric(12,8),
  DSYSDATE {timestamptype},
  SUNIT varchAr(8),
  SSTOCKCODE varchAr(15),
  WPROFILEID Integer,
  WSERIALNOID Integer,
  WSORTNO Integer,
  WREPORTINGGROUP1ID Integer,
  WREPORTINGGROUP2ID Integer,
  WACCOUNTID Integer,
  FUNITQTY Numeric(10,8),
  PRIMARY KEY (WDOCLINKED_ID)
)
;
{generator_cr_start}GEN_DOCLINELINKSALE{generator_cr_end} ;
update Sysvars set WVersion=564
;






