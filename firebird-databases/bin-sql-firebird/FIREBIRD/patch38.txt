CREATE TABLE ITEMOPTIONS(
  WITEMOPTIONID Integer NOT NULL,SDESCRIPTION 
Varchar(35),  PRIMARY KEY (WITEMOPTIONID));
CREATE TABLE ITEMOPTIONSVALUES
(
  WITEMOPTIONVALUEID Integer NOT NULL,
  WITEMOPTIONID Integer,
  SDESCRIPTION Varchar(35),
  FEXTRAAmount Numeric(12,8),
  PRIMARY KEY (WITEMOPTIONVALUEID)
)
;
ALTER TABLE ITEMOPTIONSVALUES ADD CONSTRAINT FK_ITEMOPTIONSVALUES
  FOREIGN KEY (WITEMOPTIONID) REFERENCES ITEMOPTIONS (WITEMOPTIONID)
;
CREATE TABLE STOCKSETOPTIONS
(
  WSTOCKID Integer,
  WITEMOPTION1ID Integer,
  WITEMOPTION2ID Integer,
  WITEMOPTION3ID Integer,
  WITEMOPTION4ID Integer,
  WITEMOPTION5ID Integer,
  WLEVEL Integer,
PRIMARY KEY (WSTOCKID)
)
;
CREATE TABLE STOCKOPTIONS
(
  WSTOCKOPTIONSID Integer NOT NULL,
  WSTOCKID Integer,
  WITEMOPTIONVALUE1ID Integer,
  WITEMOPTIONVALUE2ID Integer,
  WITEMOPTIONVALUE3ID Integer,
  WITEMOPTIONVALUE4ID Integer,
  WITEMOPTIONVALUE5ID Integer,
  FEXTRAPRICE Numeric(12,8),
  FQTYONHAND Numeric(12,8),
  SBARCODE Varchar(25),
  SREFERENCE Varchar(20),
  FUNITCOST Numeric(12,8),
  FREORDERQTY Numeric(12,8),
  FREORDERQTYTRIG Numeric(12,8),
  FUNITAVECOST Numeric(12,8),
  PRIMARY KEY (WSTOCKOPTIONSID)
)
;
ALTER TABLE STOCKOPTIONS ADD CONSTRAINT FK_STOCKOPTIONS_ITEM1
  FOREIGN KEY (WITEMOPTIONVALUE1ID) REFERENCES ITEMOPTIONSVALUES (WITEMOPTIONVALUEID)
;
ALTER TABLE STOCKOPTIONS ADD CONSTRAINT FK_STOCKOPTIONS_ITEM2
  FOREIGN KEY (WITEMOPTIONVALUE2ID) REFERENCES ITEMOPTIONSVALUES (WITEMOPTIONVALUEID)
;
ALTER TABLE STOCKOPTIONS ADD CONSTRAINT FK_STOCKOPTIONS_ITEM3
  FOREIGN KEY (WITEMOPTIONVALUE3ID) REFERENCES ITEMOPTIONSVALUES (WITEMOPTIONVALUEID)
;
ALTER TABLE STOCKOPTIONS ADD CONSTRAINT FK_STOCKOPTIONS_ITEM4
  FOREIGN KEY (WITEMOPTIONVALUE4ID) REFERENCES ITEMOPTIONSVALUES (WITEMOPTIONVALUEID)
;
ALTER TABLE STOCKOPTIONS ADD CONSTRAINT FK_STOCKOPTIONS_ITEM5
  FOREIGN KEY (WITEMOPTIONVALUE5ID) REFERENCES ITEMOPTIONSVALUES (WITEMOPTIONVALUEID)
;
ALTER TABLE STOCKOPTIONS ADD CONSTRAINT FK_STOCKOPTIONS_STOCK
  FOREIGN KEY (WSTOCKID) REFERENCES STOCK (WSTOCKID) ON UPDATE CASCADE ON DELETE CASCADE
;
CREATE TABLE DOCLINEOPTIONS
(
  WDOCLINEOPTIONSID Integer NOT NULL,
  WDOCID Integer,
  WLINEID Integer,
  WITEMOPTIONVALUE1ID Integer,
  WITEMOPTIONVALUE2ID Integer,
  WITEMOPTIONVALUE3ID Integer,
  WITEMOPTIONVALUE4ID Integer,
  WITEMOPTIONVALUE5ID Integer,
  FEXTRAPRICE Numeric(12,8),
  FQTY Numeric(12,8),
  WDESCRIPTIONID Integer,
  PRIMARY KEY (WDOCLINEOPTIONSID)
)
;
ALTER TABLE DOCLINEOPTIONS ADD CONSTRAINT FK_DOCLINEOPTIONS_DESC
  FOREIGN KEY (WDESCRIPTIONID) REFERENCES MESSAGES (WMESSAGEID)
;
ALTER TABLE DOCLINEOPTIONS ADD CONSTRAINT FK_DOCLINEOPTIONS_DOCLINE
  FOREIGN KEY (WDOCID,WLINEID) REFERENCES DOCLINE (WDOCID,WDOCLINEID) ON UPDATE CASCADE ON DELETE CASCADE
;
{generator_cr_start}{if SQL server}_{endif}{if postgress}_{endif}DOCLINEOPTIONS{generator_cr_end} ; 
;
{generator_cr_start}GEN_ITEMOPTIONID{generator_cr_end} ; 
;
{generator_cr_start}GEN_ITEMOPTIONVALUEID{generator_cr_end} ; 
;
{generator_cr_start}GEN_STOCKOPTIONS{generator_cr_end} ; 
 
;
ALTER TABLE STOCKTRN ADD 
WLINEID Integer
;
update Sysvars set WVersion=542
;






