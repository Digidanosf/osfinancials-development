SELECT STOCK.WSTOCKID, STOCK.SSTOCKCODE, STOCK.SBARCODENUMBER,
coalesce(b.SDESCRIPTION,STOCK.SDESCRIPTION  ) {if postgresql}::varchar(255){endif} SDESCRIPTION, STOCK.WREPORTINGGROUP1ID, STOCK.WREPORTINGGROUP2ID, 
STOCK.WCOSTACCOUNTID, STOCK.WINPUTTAXID, STOCK.WOUTPUTTAXID, STOCK.FOPENINGAVECOST, STOCK.FQTYONHAND, STOCK.FOPENINGQTY, STOCK.FINVQTYONHAND, 
STOCK.FREORDERQTY, STOCK.WSALESACCOUNTID, STOCK.BAPPLYINVOICEDISCOUNT, STOCK.WSTOCKACCOUNTID, STOCK.FSELLINGPRICE1, STOCK.FSELLINGPRICE2, 
STOCK.FSELLINGPRICE3, STOCK.FUNITAVECOST, STOCK.FUNITCOST, STOCK.WUNITID, STOCK.DSYSDATE, STOCK.BAPPLYTAX, STOCK.WINPUTTAX2ID, STOCK.BTAXABLE, 
STOCK.WSUPPLIER1ID, STOCK.WSUPPLIER2ID, STOCK.WSTOCKTYPEID, STOCK.WOUTPUTTAX2ID, STOCK.WPROFILEID, STOCK.BDISABLED, STOCK.WPERENTID, 
STOCK.WLOCATIONID, STOCK.WFILENAMEID, STOCK.SEXTRADESC, STOCK.SEXTERNALID, STOCK.FNETTOWEIGHT, STOCK.FGROSSWEIGHT, STOCK.FREORDERQTYTRIG, 
STOCK.SMANUFACTURER, STOCK.FMINIMUMQTY, STOCK.WLOCBATSERTYPEID, STOCK.SSTOCKCODESUP1, STOCK.SSTOCKCODESUP2, STOCK.WDEFAULTCOSTGROUP1ID

,
Accintax.SAccountCode IntaxCode,
Accintax.Sdescription IntaxDesc,
intax.FRate IntaxRate,
AccOutTax.SAccountCode outTaxCode,
AccOutTax.Sdescription outTaxDesc,
OutTax.FRate outTaxRate,
COSAcc.SAccountCode COSAccCode,
COSAcc.SDescription COSAccDesc,
SalesAcc.SAccountCode SalesAccCode,
SalesAcc.SDescription SalesAccDesc,
StockAcc.SAccountCode StockAccCode,
StockAcc.SDescription StockAccDesc
 from stock 
left join STOCK_DESCRIPTIONS b 
    on STOCK.WSTOCKID = b.WSTOCKID and b.WLANGUAGEID = {if InterBase} (SELECT first 1 p.WLANGUAGEID  
   FROM GETUSERLANG p){else}{dbopre}GETUSERLANG()  {endif} 
left join Tax intax on(stock.WInputtaxid =intax.WaccountId) 
left join Tax OutTax on(stock.WOutputtaxid = OutTax.WaccountId) 
left join Account Accintax on(stock.WInputtaxid = Accintax.WaccountId) 
left join Account AccOutTax on(stock.WOutputtaxid = AccOutTax.WaccountId ) 
left join Account COSAcc on(stock.WCOSTACCOUNTID = COSAcc.WaccountId ) 
left join Account SalesAcc on(stock.WSalesAccountId = SalesAcc.WaccountId ) 
left join Account StockAcc on(stock.WStockAccountId = stockAcc.WaccountId  ) 
where stock.WStockId =:WStockId 